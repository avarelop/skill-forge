<!DOCTYPE html>
<html>

<head>
  <title>My Reading List</title>
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  <link rel="stylesheet" href="/styles.css">
</head>

<body>
  <div class="container">
    <header>
      <h1>My Reading List</h1>
    </header>
    <main>
      <div class="book-list-container">
        <div class="search-form">
          <div class="search-bar">
            <input 
              type="search"
              name="search"
              placeholder="Search for a book by title"
              hx-get="/books/search"
              hx-trigger="keyup changed delay:300ms"
              hx-target=".book-list"
              hx-indicator="#loading"
              hx-swap="outerHTML"
            />
            <button 
              hx-get="/books"
              hx-swap="beforeend"
              hx-target=".book-list"
              hx-indicator="#loading"
            >
              Get Books
            </button>
          </div>
          <div class="book-list"></div>
        </div>
      </div>
    </main>
    <div class="add-book-form">
      <h2>What do you want to read?</h2>
      <form hx-post="/books" hx-swap="beforeend" hx-target=".book-list ul">
        <input type="text" name="title" placeholder="Title" required>
        <input type="text" name="author" placeholder="Author" required>
        <button type="submit">Add Book</button>
      </form>
    </div>
  </div>
</body>

</html>